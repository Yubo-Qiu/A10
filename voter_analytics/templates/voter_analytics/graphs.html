{% extends 'voter_analytics/base.html' %}

{% block content %}
<h1>Voter Analytics Graphs</h1>
<!-- Filter Form -->
<a href="{% url 'voters' %}">Back to Voter List</a>
<form method="get">
    <!-- Party Affiliation Dropdown -->
    <label>Party Affiliation:</label>
    <select name="party_affiliation">
        <option value="">All</option>
        <option value="D">Democrat</option>
        <option value="R">Republican</option>
        <option value="U">Unaffiliated</option>
        <option value="CC">Constitution Party</option>
        <option value="L">Libertarian</option>
        <option value="J">Justice Party</option>
        <option value="T">Tea Party</option>
        <option value="O">Other</option>
        <option value="A">American Party</option>
        <option value="Q">Green Party</option>
        <option value="S">Socialist Party</option>
        <option value="G">Grassroots Party</option>
        <option value="X">Unknown Party</option>
        <option value="AA">Alliance Party</option>
        <option value="Z">Reform Party</option>
        <option value="FF">Freedom Party</option>
        <option value="GG">Gotham Party</option>
        <option value="V">Veterans Party</option>
        <option value="K">Kindred Party</option>
        <option value="HH">Humanist Party</option>
        <option value="P">Progressive Party</option>
        <option value="E">Equality Party</option>
        <option value="H">Health Party</option>
        <option value="Y">Youth Party</option>
        <option value="WW">Workers Party</option>
        <option value="EE">Environmental Party</option>
    </select>

    <!-- Minimum Year of Birth -->
    <label>Minimum Year of Birth:</label>
    <select name="min_year">
        <option value="">Any</option>
        {% for year in years %}
            <option value="{{ year }}">{{ year }}</option>
        {% endfor %}
    </select>

    <!-- Maximum Year of Birth -->
    <label>Maximum Year of Birth:</label>
    <select name="max_year">
        <option value="">Any</option>
        {% for year in years %}
            <option value="{{ year }}">{{ year }}</option>
        {% endfor %}
    </select>

    <!-- Voter Score Dropdown -->
    <label>Voter Score:</label>
    <select name="voter_score">
        <option value="">Any</option>
        {% for score in voter_scores %}
            <option value="{{ score }}">{{ score }}</option>
        {% endfor %}
    </select>

    <!-- Election Participation Checkboxes -->
    <label>Voted in 2020 State Election:</label>
    <input type="checkbox" name="v20state" value="on">

    <label>Voted in 2021 Town Election:</label>
    <input type="checkbox" name="v21town" value="on">

    <label>Voted in 2021 Primary Election:</label>
    <input type="checkbox" name="v21primary" value="on">

    <label>Voted in 2022 General Election:</label>
    <input type="checkbox" name="v22general" value="on">

    <label>Voted in 2023 Town Election:</label>
    <input type="checkbox" name="v23town" value="on">

    <!-- Submit Button -->
    <button type="submit">Filter</button>
</form>
<div>{{ birth_year_hist|safe }}</div>
<div>{{ party_pie|safe }}</div>
<div>{{ participation_hist|safe }}</div>
{% endblock content %}